<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!-- saved from url=(0066)https://coursera.cs.princeton.edu/algs4/assignments/kdtree/faq.php -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" type="text/css" href="./FAQ_files/assignments.css">
    <link rel="stylesheet" type="text/css" href="./FAQ_files/link-icons.css">
    <script type="text/javascript" src="./FAQ_files/MathJax.js"></script>
    <script type="text/javascript" src="./FAQ_files/TJKToggleDL.js"></script><link href="./FAQ_files/TJK_ToggleDL.css" type="text/css" rel="stylesheet"><link href="./FAQ_files/TJK_ToggleDL_ie5mac.css" type="text/css" rel="stylesheet">
    <title>Programming Assignment 5: FAQ</title>
<style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>

<body onload="TJK_ToggleDL()" class="faq"><div id="MathJax_Message" style="display: none;"></div>

<div id="nav2">
<a href="https://coursera.cs.princeton.edu/algs4/assignments/kdtree/specification.php" id="logo"> <img src="./FAQ_files/logo.png"> Kd-Trees</a>

<ul id="links">
<li><a href="https://coursera.cs.princeton.edu/algs4/assignments/kdtree/specification.php">Spec</a></li>
<li><a href="https://coursera.cs.princeton.edu/algs4/assignments/kdtree/faq.php" id="here">FAQ</a></li>
<li><a href="https://coursera.cs.princeton.edu/algs4/assignments/kdtree/kdtree.zip">Project</a></li>
<li><a href="https://www.coursera.org/learn/algorithms-part1/programming/wuF0a/kd-trees/submission" target="_blank">Submit</a></li>
</ul>
</div>

<h2>Personalized Feedback</h2>

<p><b>How can I get personalized feedback on this assignment?</b>
In addition to the autograder feedback (available for free via Coursera platform),
you can pay to have a teaching assistant read and provide 
personalized feedback on your submission at
<a href="https://mooc.codepost.io/">codePost</a>.
</p><ul>
<p></p><li>
This service includes feedback on correctness
(e.g. to help you pinpoint why you are failing a test, and how to fix the problem)
and code quality (e.g. to help you write more human-readable and maintainable code)
from experienced reviewers who are trained specifically to provide feedback on
assignments in this course.
<p></p></li><li>
The goals of the service are to help you better understand the assignment and develop
the skills necessary to work as a professional software engineer.
<p></p></li><li>
<a href="https://mooc.codepost.io/">codePost</a>
is a service, started by former Princeton students, that connects qualified
code reviewers with Coursera students.
</li></ul>

<h2>Frequently Asked Questions</h2>

<p><b>What should I do if a point has the same x-coordinate as the point
in a node when inserting / searching in a 2d-tree?</b>
Go the right subtree as specified.


</p><p><b>Can I assume that all x- or y-coordinates of points inserted into
the <code>KdTree</code>  will be between 0 and 1?</b>
Yes. You may also assume that the <code>insert()</code>, <code>contains()</code>, and 
<code>nearest()</code> methods in <code>KdTree</code> 
are passed points with x- and y-coordinates between 0 and 1.
You may also assume that the <code>range()</code> method in <code>KdTree</code> is
passed a rectangle that lies in the unit box.
<!-- However, the <code>RectHV</code> data type should not make such assumptions. -->

</p><p><b>What should I do if a point is inserted twice in the data structure?</b>
The data structure represents a <em>set</em> of points, so you should keep only one copy.


</p><p><b>How should I scale the coordinate system when drawing?</b>
Don't, please keep the default range of 0 to 1.


</p><p><b>How should I set the size and color of the points and rectangles when drawing?</b>
Use <code>StdDraw.setPenColor(StdDraw.BLACK)</code> and <code>StdDraw.setPenRadius(0.01)</code> before
before drawing the points;
use <code>StdDraw.setPenColor(StdDraw.RED)</code> or <code>StdDraw.setPenColor(StdDraw.BLUE)</code>
and <code>StdDraw.setPenRadius()</code> before drawing the splitting lines.

</p><p><b>What should <code>range()</code> return if there are no points in the range?</b>
It should return an <code>Iterable&lt;Point2D&gt;</code> object with zero points.

</p><p><b>How much memory does a <code>Point2D</code> object use?</b>
For simplicity, assume that each <code>Point2D</code> object uses 32 bytesâ€”in reality,
it uses a bit more because of the <code>Comparator</code> instance variables.

</p><p><b>How much memory does a <code>RectHV</code> object use?</b>
You can look at the code and analyze it.

</p><p><b>I run out of memory when running some of the large sample files. What should I do?</b>
Be sure to ask Java for additional memory,
e.g., <code>java -Xmx1600m RangeSearchVisualizer input1M.txt</code>.

</p><h2>Testing</h2>


<p><b>Testing.</b>
A good way to test <code>KdTree</code> is to perform
the same sequence of operations on both the <code>PointSET</code> and 
<code>KdTree</code> data types and identify any discrepancies.
The sample clients
 <a href="https://coursera.cs.princeton.edu/algs4/assignments/kdtree/files/RangeSearchVisualizer.java">RangeSearchVisualizer.java</a>
and 
 <a href="https://coursera.cs.princeton.edu/algs4/assignments/kdtree/files/NearestNeighborVisualizer.java">NearestNeighborVisualizer.java</a>
take this approach.

</p><p><b>Sample input files.</b>
&nbsp;
The zip file <a href="https://coursera.cs.princeton.edu/algs4/assignments/kdtree/kdtree.zip">kdtree.zip</a>
contains many sample input files for testing.

</p><ul>
<p></p><li><code>circleN.txt</code> contains <code>n</code> points on the circumference
of the circle centered on (0.5, 0.5) of radius 0.5.

</li></ul>

The result of calling <code>draw()</code> on the points in <code>circle10.txt</code>
should look like the following:

<br><blockquote>
<img src="./FAQ_files/circle10.png" width="300">
</blockquote>

<br>If <code>nearest()</code> is called with <code>p = (0.81, 0.30)</code> the number of nodes visited in order
to find that F is nearest is 5.

<p>Starting with <code>circle10000.txt</code> if nearest is called with <code>p = (0.81, 0.30)</code> 
the number of nodes visited in order to find that K is nearest is 6.

</p><h2>Possible Progress Steps</h2>

These are purely suggestions for how you might make progress.  You do
not have to follow these steps.

<ol>


<p></p><li><b>Node data type.</b>
There are several reasonable ways to represent a node in a 2d-tree.
One approach is to include the point, a link to the left/bottom subtree,
a link to the right/top subtree, and an axis-aligned rectangle corresponding
to the node.

<blockquote>
<pre>private static class Node {
   private Point2D p;      // the point
   private RectHV rect;    // the axis-aligned rectangle corresponding to this node
   private Node lb;        // the left/bottom subtree
   private Node rt;        // the right/top subtree
}
</pre>
</blockquote>

Unlike the <code>Node</code> class for <code>BST</code>, this <code>Node</code> class is
static because it does not refer to a generic <code>Key</code> or <code>Value</code> type
that depends on the object associated with the outer class. This saves the 
8-byte inner class object overhead. (Making the <code>Node</code> class static 
in <code>BST</code> is also possible if you make the <code>Node</code> type itself
generic as well).
Also, since we don't need to implement
the rank and select operations, there is no need to store the subtree size.

<p></p></li><li><b>Writing KdTree.</b>
Start by writing <code>isEmpty()</code> and <code>size()</code>. These should be very easy. From there, 
write a simplified version of insert() which does everything except set up the
<code>RectHV</code> for each node. Write the <code>contains()</code> method, and use this to test that
<code>insert()</code> was implemented properly. Note that <code>insert()</code> and <code>contains()</code> 
are best implemented by using private helper methods analogous to those found on page 399
of the book or by looking at BST.java. We recommend using orientation as an 
argument to these helper methods.

<p>Now add the code to <code>insert()</code> which sets up the RectHV for each Node. Next,
write <code>draw()</code>, and use this to test these rectangles. Finish up KdTree with the 
nearest and range methods. Finally, test your implementation using our interactive client 
programs as well as any other tests you'd like to conduct.

</p></li></ol>


<h2>Optimizations</h2>

These are many ways to improve performance of your 2d-tree. Here are some ideas.

<ul>

<p></p><li><b>Squared distances.</b>
Whenever you need to compare two Euclidean distances, it is often more efficient
to compare the squares of the two distances to avoid the expensive
operation of taking square roots.
Everyone should implement this optimization because it is both easy to do
and likely a bottleneck.

<p></p></li><li><b>Range search.</b>
Instead of checking whether the query rectangle intersects the rectangle corresponding
to a node, it suffices to check only whether the query rectangle intersects
the splitting line segment: if it does,
then recursively search both subtrees; otherwise, recursively search the
one subtree where points intersecting the query rectangle could be.

<p></p></li><li><b>Save memory.</b>
You are not required to explicitly store a <code>RectHV</code> in each 2d-tree node (though it
is probably wise in your first version).


</li></ul>



</body></html>